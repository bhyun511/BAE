<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>V to H to V</title>

  <!-- <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css"> -->
  <link type="text/css" rel="stylesheet" href="https://use.typekit.net/skn8ash.css">
  <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.css">
  <link type="text/css" rel="stylesheet" href="./css/style.css">
  <link type="text/css" rel="stylesheet" href="./css/reset.css">
</head>

<body>
<!-------- header -------->
<header>
  <div class="wrap">
    <nav>
      <div class="left">
        <a href="#">
          <h1 class="logo"></h1>
        </a>
      </div>
      <div class="center">
        <ul class="menu">
          <li><a href="">Models</a></li>
          <li><a href="">Sales</a></li>
          <li><a href="">Service</a></li>
          <li><a href="">Hybrid</a></li>
          <li><a href="">Honda Sensing</a></li>
          <li><a href="">News</a></li>
        </ul>
      </div>
      <div class="right">
        <a href="#">
          <h1 class="logo"></h1>
        </a>
      </div>
    </nav>
  </div>
</header>

<div class="container">
<!-------- section1 -------->
  <section id="section1" class="sticky">
    <div class="banner">
      <div class="image-area">
        <video class="mainVideo" autoplay loop muted>
          <source src="./media/honda-main-video.mp4" type="video/mp4"></source>
        </video>
      </div>
      <div class="text-area">
        <div class="title">드라이빙의 즐거움.</div>
        <div class="desc">All-new HONDA ACCORD 2023</div>
        <a href="" class="more-btn">자세히보기</a>
      </div>
    </div>
    <div class="whiteBlock"></div>
  </section>


<!-------- section2 -------->
  <div class="pin-spacer">
    <section id="sectionPin">
      <div class="text-area">
        <h1>Accord</h1>
        <ul>
          <li>지금 당신 앞에,</li>
          <li>가장 진보적이고 매력적인<br> 
              스타일에서 퍼포먼스까지,</li>
          <li>시대를 압도하는 완벽함.</li>
        </ul>
        <p>1,993 cc / 연비 17.5 (km/ℓ)</p>
      </div>
      <div class="pin-wrap">
        <div class="img"><img src="./img/horizontal-01.png"></div>
        <div class="img"><img src="./img/horizontal-02.png"></div>
        <div class="img"></div>
      </div>
    </section>
  </div>

<!-------- section3 -------->
<section id="section3">
  section3
</section>
</div>

<script src="./js/script.js" type="text/javascript"></script>
<script src="/vendor/jquery/jquery.min.js" type="text/javascript"></script>
<script src="/vendor/jquery.easing/jquery.easing.min.js" type="text/javascript"></script>
<script src="./js/scrollTrigger.min.js"></script>
<script src="./js/gsap.min.js"></script>
<script src="./js/locomotive_scroll.min.js"></script>
<!-- <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-1b93190375e9ccc259df3a57c1abc0e64599724ae30d7ea4c6877eb615f89387.js"></script> -->
<script id="rendered-js">
  gsap.registerPlugin(ScrollTrigger);

  const pageContainer = document.querySelector(".container");

  /* SMOOTH SCROLL */
  const scroller = new LocomotiveScroll({
    el: pageContainer,
    smooth: true
  });


  scroller.on("scroll", ScrollTrigger.update);

  ScrollTrigger.scrollerProxy(pageContainer, {
    scrollTop(value) {
      return arguments.length ?
        scroller.scrollTo(value, 0, 0) :
        scroller.scroll.instance.scroll.y;
    },
    getBoundingClientRect() {
      return {
        left: 1200,
        top: 0,
        width: window.innerWidth,
        height: window.innerHeight
      };

    },
    pinType: pageContainer.style.transform ? "transform" : "fixed"
  });

  window.addEventListener("load", function () {
    // let pinBoxes = document.querySelectorAll(".pin-wrap > *");
    let pinWrap = document.querySelector(".pin-wrap");
    let pinWrapWidth = pinWrap.offsetWidth;
    let horizontalScrollLength = pinWrapWidth - window.innerWidth;

    gsap.to(".pin-wrap", {
      scrollTrigger: {
        scroller: pageContainer,
        scrub: true,
        trigger: "#sectionPin",
        pin: true,
        start: "top top",
        end: pinWrapWidth
      },

      x: -horizontalScrollLength,
      ease: "none"
    });


    ScrollTrigger.addEventListener("refresh", () => scroller.update());

    ScrollTrigger.refresh();
  });
</script>
</body>
</html>